{% extends "base.html" %}
{% load staticfiles %}

{% block head %}
<script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3.exp&region=KR"></script>
{% endblock %}

{% block body %}
<div class="row">
<div id="google_map" style="height:500px"></div>
</div> <!-- .row -->
{% endblock %}

{% block script %}
<script type="text/javascript">
google.maps.event.addDomListener(window, 'load', initialize);
var map;
var markersInfo = [];
var markers = [];
function initialize(){
    var mapOptions = {
        zoom : 16,
        center : new google.maps.LatLng(37.544553, 127.017309), //기준이 될 가운데 좌표
        disableDefaultUI : false,
        scrollwheel : false,
        mapTypeControl : false,
        zoomControl : true,
        zoomControlOptions : true,
        streetViewControl : false,
        panControl :false
    };
 
    map = new google.maps.Map(document.getElementById('google_map'), mapOptions);
    
    google.maps.event.addDomListener(window, "resize", function() {
        var center = map.getCenter();
        google.maps.event.trigger(map, "resize");
        map.setCenter(center); 
    });

    var company = [
    ['company 1', 37.5375772, 127.0062798, 2], // 1번 타이틀, 마커 좌표값, 우선순위(z-index)
    ['company 2', 37.544553, 127.017309, 1] // 2번 타이틀, 마커 좌표값, 우선순위(z-index)
    ];

    setMarkers(map, company);
}


function setMarkers(map, locations){
    for(var i=0; i < locations.length; i++){
        
        var compa = locations[i];
        var myLatLng = new google.maps.LatLng(compa[1], compa[2]);
        markers[i] = new google.maps.Marker({
            position: myLatLng,
            map: map,
            title : compa[0],
            zIndex : compa[3],
        });
    }   
}

function isInMap()
{

}

</script>
{% endblock %}